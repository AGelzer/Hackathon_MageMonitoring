<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    Hackathon
 * @package     Hackathon_MageMonitoring
 * @license     http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
-->
<config>
    <modules>
        <Hackathon_MageMonitoring>
            <version>1.1.0</version>
            <depends>
                <Mage_Adminhtml />
            </depends>
        </Hackathon_MageMonitoring>
    </modules>

    <global>
        <blocks>
            <magemonitoring>
                <class>Hackathon_MageMonitoring_Block</class>
            </magemonitoring>
        </blocks>

        <models>
            <magemonitoring>
                <class>Hackathon_MageMonitoring_Model</class>
                <resourceModel>magemonitoring_resource</resourceModel>
            </magemonitoring>
            <magemonitoring_resource>
                <class>Hackathon_MageMonitoring_Model_Resource</class>
                <entities>
                </entities>
            </magemonitoring_resource>
            <!-- Fake model rewrite -->
            <!--<catalog>-->
                <!--<rewrite>-->
                    <!--<category>Hackathon_MageMonitoring_Model_Category</category>-->
                <!--</rewrite>-->
            <!--</catalog>-->
            <!-- / Fake model rewrite -->
        </models>

        <helpers>
            <magemonitoring>
                <class>Hackathon_MageMonitoring_Helper</class>
            </magemonitoring>
        </helpers>

        <template>
            <email>
                <magemonitoring_watchdog_report module="magemonitoring">
                    <label>MageMonitoring Watch Dog Reports</label>
                    <file>magemonitoring_watchdogs.html</file>
                    <type>html</type>
                </magemonitoring_watchdog_report>
            </email>
        </template>

        <widgets>
            <magemonitoring>
                <folder>Model/Widget</folder>
            </magemonitoring>
        </widgets>

    </global>

    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <magemonitoring before="Mage_Adminhtml">Hackathon_MageMonitoring_Adminhtml</magemonitoring>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>

    <adminhtml>
        <layout>
            <updates>
                <magemonitoring>
                    <file>monitoring.xml</file>
                </magemonitoring>
            </updates>
        </layout>
    </adminhtml>

    <crontab>
        <jobs>
            <magemonitoring_uberdog>
                <schedule>
                    <cron_expr>always</cron_expr>
                </schedule>
                <run>
                    <model>magemonitoring/watchDog_uberDog::triggerActiveDogs</model>
                </run>
            </magemonitoring_uberdog>
        </jobs>
    </crontab>

    <default>
        <magemonitoring>
            <tabs>
                <system_overview>
                    <label>System Overview</label>
                    <titel>System Overview</titel>
                    <widgets>
                      <Hackathon_MageMonitoring_Model_Widget_System_Magento />
                      <Hackathon_MageMonitoring_Model_Widget_System_Server />
                      <Hackathon_MageMonitoring_Model_Widget_System_Watchdog />
                    </widgets>
                </system_overview>
                <php_info>
                    <label>PHP Information</label>
                    <titel>PHP Information</titel>
                    <block>magemonitoring/system_overview_read_tabs_php</block>
                    <widgets>
                    </widgets>
                </php_info>
                <cache_stat>
                    <label>Cache Statistics</label>
                    <titel>Cache Statistics</titel>
                    <widgets>
                      <Hackathon_MageMonitoring_Model_Widget_CacheStat_Apc />
                      <Hackathon_MageMonitoring_Model_Widget_CacheStat_Apcu />
                      <Hackathon_MageMonitoring_Model_Widget_CacheStat_Dummy />
                      <Hackathon_MageMonitoring_Model_Widget_CacheStat_Memcache />
                      <Hackathon_MageMonitoring_Model_Widget_CacheStat_Redis />
                      <Hackathon_MageMonitoring_Model_Widget_CacheStat_Zendopcache />
                    </widgets>
                </cache_stat>
                <class_rewrites>
                    <label>Class Rewrites</label>
                    <titel>Class Rewrites</titel>
                    <block>magemonitoring/system_overview_read_tabs_rewrites</block>
                    <widgets>
                    </widgets>
                </class_rewrites>
                <modules_installed>
                    <label>Modules Installed</label>
                    <titel>Modules Installed</titel>
                    <block>magemonitoring/system_overview_read_tabs_modules</block>
                    <widgets>
                    </widgets>
                </modules_installed>
                <system_logs>
                    <label>System Logs</label>
                    <titel>System Logs</titel>
                    <widgets>
                      <Hackathon_MageMonitoring_Model_Widget_Log_Debug />
                      <Hackathon_MageMonitoring_Model_Widget_Log_Exception />
                    </widgets>
                </system_logs>
            </tabs>
        </magemonitoring>
    </default>

</config>
